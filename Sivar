--[[
    ìœ ë‹ˆë²„ìŠ¤ (Universe) - ì–¼í‹°ë©”ì´íŠ¸ ì—ë””ì…˜
    - ì„¬ì„¸í•œ í”Œë ˆì´ì–´ í…”ë ˆí¬íŠ¸
    - ë³´ì•ˆ íƒ­ ì¶”ê°€
    - ì—ì„ TP ì´í™íŠ¸ ì œê±°
]]

-- ì„œë¹„ìŠ¤ ë¡œë“œ
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local UserInput = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")
local TweenService = game:GetService("TweenService")
local Debris = game:GetService("Debris")
local VirtualUser = game:GetService("VirtualUser")
local CoreGui = game:GetService("CoreGui")
local GuiService = game:GetService("GuiService")
local Stats = game:GetService("Stats")
local NetworkClient = game:GetService("NetworkClient")
local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")

-- ë¡œì»¬ í”Œë ˆì´ì–´
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

--============================================================================--
-- ìœˆë„ìš° ìƒì„±
--============================================================================--
local Window = Rayfield:CreateWindow({
    Name = "ìœ ë‹ˆë²„ìŠ¤ (Universe)",
    LoadingTitle = "ìœ ë‹ˆë²„ìŠ¤ ë¡œë”© ì¤‘...",
    LoadingSubtitle = "v3.0 - ì‹œíì–´ ì—ë””ì…˜",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "UniverseHub",
        FileName = "Config"
    },
    ToggleUIKeybind = "K",
    KeySystem = false,
})

--============================================================================--
-- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
--============================================================================--
local function WaitForCharacter()
    repeat 
        task.wait()
    until LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    return LocalPlayer.Character
end

local function SafeCall(func, ...)
    local success, result = pcall(func, ...)
    return result
end

local function CreateEffect(position, color, size)
    -- ì´í™íŠ¸ ìƒì„± (ì—ì„ TPì—ì„œëŠ” ì‚¬ìš© ì•ˆí•¨)
end

--============================================================================--
-- ë©”ì¸ íƒ­
--============================================================================--
local MainTab = Window:CreateTab("ë©”ì¸", 4483362458)
local MainSection = MainTab:CreateSection("ì´ë™ ë° ë¬¼ë¦¬")

-- í™˜ì˜ ë©”ì‹œì§€
Rayfield:Notify({
    Title = "âœ¨ ìœ ë‹ˆë²„ìŠ¤ ì‹¤í–‰ë¨",
    Content = "Kí‚¤ë¥¼ ëˆŒëŸ¬ UIë¥¼ í† ê¸€í•˜ì„¸ìš”",
    Duration = 3,
})

------------------------------------------------------------------------
-- ì†ë„ ì¡°ì ˆ
------------------------------------------------------------------------
local WalkSpeed = 16
local SpeedConnection = nil

local SpeedSlider = MainTab:CreateSlider({
    Name = "âš¡ ì†ë„ ì¡°ì ˆ (1~5000)",
    Range = {1, 5000},
    Increment = 1,
    Suffix = "WalkSpeed",
    CurrentValue = 16,
    Flag = "SpeedSlider",
    Callback = function(value)
        WalkSpeed = value
        if LocalPlayer.Character then
            local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = value
            end
        end
    end,
})

local SpeedLabel = MainTab:CreateLabel("í˜„ì¬ ì†ë„: 16")

RunService.Heartbeat:Connect(function()
    if LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            local current = humanoid.WalkSpeed
            SpeedLabel:Set("í˜„ì¬ ì†ë„: " .. math.floor(current))
            
            -- ì†ë„ ê°•ì œ ìœ ì§€
            if current ~= WalkSpeed and WalkSpeed > 0 then
                humanoid.WalkSpeed = WalkSpeed
            end
        end
    end
end)

------------------------------------------------------------------------
-- ì í”„ë ¥ ì¡°ì ˆ
------------------------------------------------------------------------
local JumpPower = 50
local JumpLabel = MainTab:CreateLabel("í˜„ì¬ ì í”„ë ¥: 50")

MainTab:CreateSlider({
    Name = "ğŸ¦˜ ì í”„ë ¥ ì¡°ì ˆ (1~5000)",
    Range = {1, 5000},
    Increment = 1,
    Suffix = "JumpPower",
    CurrentValue = 50,
    Flag = "JumpSlider",
    Callback = function(value)
        JumpPower = value
        if LocalPlayer.Character then
            local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.JumpPower = value
            end
        end
    end,
})

RunService.Heartbeat:Connect(function()
    if LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            JumpLabel:Set("í˜„ì¬ ì í”„ë ¥: " .. math.floor(humanoid.JumpPower))
        end
    end
end)

------------------------------------------------------------------------
-- ì¤‘ë ¥ ì¡°ì ˆ
------------------------------------------------------------------------
local GravityLabel = MainTab:CreateLabel("í˜„ì¬ ì¤‘ë ¥: 196.2")

MainTab:CreateSlider({
    Name = "ğŸŒ ì¤‘ë ¥ ì¡°ì ˆ (1~5000)",
    Range = {1, 5000},
    Increment = 1,
    Suffix = "Gravity",
    CurrentValue = 196.2,
    Flag = "GravitySlider",
    Callback = function(value)
        workspace.Gravity = value
    end,
})

RunService.Heartbeat:Connect(function()
    GravityLabel:Set("í˜„ì¬ ì¤‘ë ¥: " .. math.floor(workspace.Gravity))
end)

------------------------------------------------------------------------
-- í”Œë¼ì´ ê¸°ëŠ¥
------------------------------------------------------------------------
MainTab:CreateSection("ğŸ¦… í”Œë¼ì´ ëª¨ë“œ")

local FlyEnabled = false
local FlySpeed = 50
local FlyConnection = nil
local BodyVelocity = nil
local BodyGyro = nil

MainTab:CreateSlider({
    Name = "í”Œë¼ì´ ì†ë„ (1~5000)",
    Range = {1, 5000},
    Increment = 1,
    Suffix = "FlySpeed",
    CurrentValue = 50,
    Flag = "FlySpeedSlider",
    Callback = function(value)
        FlySpeed = value
        if BodyVelocity then
            BodyVelocity.MaxForce = Vector3.new(value * 1000, value * 1000, value * 1000)
        end
    end,
})

MainTab:CreateToggle({
    Name = "í”Œë¼ì´ ON/OFF",
    CurrentValue = false,
    Flag = "FlyToggle",
    Callback = function(state)
        FlyEnabled = state
        
        if FlyEnabled then
            -- í”Œë¼ì´ í™œì„±í™”
            local character = LocalPlayer.Character or WaitForCharacter()
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            
            if not (rootPart and humanoid) then
                Rayfield:Notify({ Title = "ì˜¤ë¥˜", Content = "ìºë¦­í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ", Duration = 2 })
                return
            end
            
            -- ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ ì •ë¦¬
            if BodyVelocity then BodyVelocity:Destroy() end
            if BodyGyro then BodyGyro:Destroy() end
            
            -- BodyVelocity ìƒì„±
            BodyVelocity = Instance.new("BodyVelocity")
            BodyVelocity.Velocity = Vector3.new()
            BodyVelocity.MaxForce = Vector3.new(FlySpeed * 1000, FlySpeed * 1000, FlySpeed * 1000)
            BodyVelocity.P = 10000
            BodyVelocity.Parent = rootPart
            
            -- BodyGyro ìƒì„±
            BodyGyro = Instance.new("BodyGyro")
            BodyGyro.MaxTorque = Vector3.new(40000, 40000, 40000)
            BodyGyro.P = 10000
            BodyGyro.CFrame = rootPart.CFrame
            BodyGyro.Parent = rootPart
            
            humanoid.PlatformStand = true
            
            -- í”Œë¼ì´ ì—…ë°ì´íŠ¸ ë£¨í”„
            FlyConnection = RunService.Heartbeat:Connect(function()
                if not (FlyEnabled and LocalPlayer.Character and rootPart and BodyVelocity) then
                    return
                end
                
                local moveDir = Vector3.new()
                local camera = workspace.CurrentCamera
                
                if UserInput:IsKeyDown(Enum.KeyCode.W) then
                    moveDir = moveDir + camera.CFrame.LookVector
                end
                if UserInput:IsKeyDown(Enum.KeyCode.S) then
                    moveDir = moveDir - camera.CFrame.LookVector
                end
                if UserInput:IsKeyDown(Enum.KeyCode.A) then
                    moveDir = moveDir - camera.CFrame.RightVector
                end
                if UserInput:IsKeyDown(Enum.KeyCode.D) then
                    moveDir = moveDir + camera.CFrame.RightVector
                end
                if UserInput:IsKeyDown(Enum.KeyCode.Space) then
                    moveDir = moveDir + Vector3.new(0, 1, 0)
                end
                if UserInput:IsKeyDown(Enum.KeyCode.LeftControl) then
                    moveDir = moveDir + Vector3.new(0, -1, 0)
                end
                
                -- ì´ë™ ë²¡í„° ì •ê·œí™”
                if moveDir.Magnitude > 0 then
                    moveDir = moveDir.Unit * FlySpeed
                end
                
                BodyVelocity.Velocity = moveDir
                BodyGyro.CFrame = camera.CFrame
            end)
            
            Rayfield:Notify({
                Title = "í”Œë¼ì´",
                Content = "WASD: ì´ë™ | ìŠ¤í˜ì´ìŠ¤: ìƒìŠ¹ | Ctrl: í•˜ê°•",
                Duration = 3
            })
            
        else
            -- í”Œë¼ì´ ë¹„í™œì„±í™”
            if FlyConnection then
                FlyConnection:Disconnect()
                FlyConnection = nil
            end
            
            if BodyVelocity then
                BodyVelocity:Destroy()
                BodyVelocity = nil
            end
            
            if BodyGyro then
                BodyGyro:Destroy()
                BodyGyro = nil
            end
            
            if LocalPlayer.Character then
                local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid.PlatformStand = false
                end
            end
            
            Rayfield:Notify({ Title = "í”Œë¼ì´", Content = "ë¹„í™œì„±í™”ë¨", Duration = 2 })
        end
    end,
})

local FlyStatusLabel = MainTab:CreateLabel("í”Œë¼ì´ ìƒíƒœ: êº¼ì§")

RunService.Heartbeat:Connect(function()
    FlyStatusLabel:Set("í”Œë¼ì´ ìƒíƒœ: " .. (FlyEnabled and ("ì¼œì§ (ì†ë„: " .. FlySpeed .. ")") or "êº¼ì§"))
end)

------------------------------------------------------------------------
-- í”„ë¦¬ì¦ˆ ê¸°ëŠ¥
------------------------------------------------------------------------
MainTab:CreateSection("â„ï¸ í”„ë¦¬ì¦ˆ ëª¨ë“œ")

local FreezeEnabled = false
local FreezePosition = nil
local FreezeConnection = nil

MainTab:CreateToggle({
    Name = "í”„ë¦¬ì¦ˆ (ìœ„ì¹˜ ê³ ì •)",
    CurrentValue = false,
    Flag = "FreezeToggle",
    Callback = function(state)
        FreezeEnabled = state
        
        if FreezeEnabled then
            -- í˜„ì¬ ìœ„ì¹˜ ì €ì¥
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                FreezePosition = LocalPlayer.Character.HumanoidRootPart.CFrame
                
                -- ìœ„ì¹˜ ê³ ì • ë£¨í”„
                FreezeConnection = RunService.Heartbeat:Connect(function()
                    if FreezeEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                        LocalPlayer.Character.HumanoidRootPart.CFrame = FreezePosition
                        
                        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                        if humanoid then
                            humanoid.PlatformStand = true
                        end
                    end
                end)
                
                Rayfield:Notify({ Title = "í”„ë¦¬ì¦ˆ", Content = "ìœ„ì¹˜ ê³ ì • ON", Duration = 2 })
            else
                Rayfield:Notify({ Title = "ì˜¤ë¥˜", Content = "ìºë¦­í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ", Duration = 2 })
                FreezeEnabled = false
            end
        else
            -- í”„ë¦¬ì¦ˆ í•´ì œ
            if FreezeConnection then
                FreezeConnection:Disconnect()
                FreezeConnection = nil
            end
            
            if LocalPlayer.Character then
                local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid.PlatformStand = false
                end
            end
            
            Rayfield:Notify({ Title = "í”„ë¦¬ì¦ˆ", Content = "í•´ì œë¨", Duration = 2 })
        end
    end,
})

------------------------------------------------------------------------
-- ë¬´í•œ ì í”„
------------------------------------------------------------------------
local InfiniteJumpEnabled = false
local JumpConnection = nil

MainTab:CreateToggle({
    Name = "âˆ ë¬´í•œ ì í”„",
    CurrentValue = false,
    Flag = "InfiniteJump",
    Callback = function(state)
        InfiniteJumpEnabled = state
        
        if InfiniteJumpEnabled then
            JumpConnection = UserInput.JumpRequest:Connect(function()
                if LocalPlayer.Character then
                    local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    end
                end
            end)
            Rayfield:Notify({ Title = "ë¬´í•œ ì í”„", Content = "í™œì„±í™”ë¨", Duration = 2 })
        else
            if JumpConnection then
                JumpConnection:Disconnect()
                JumpConnection = nil
            end
            Rayfield:Notify({ Title = "ë¬´í•œ ì í”„", Content = "ë¹„í™œì„±í™”ë¨", Duration = 2 })
        end
    end,
})

------------------------------------------------------------------------
-- ë²½ëš«ê¸°
------------------------------------------------------------------------
local NoclipEnabled = false
local NoclipConnection = nil

MainTab:CreateToggle({
    Name = "ğŸ§± ë²½ëš«ê¸° (Noclip)",
    CurrentValue = false,
    Flag = "Noclip",
    Callback = function(state)
        NoclipEnabled = state
        
        if NoclipEnabled then
            NoclipConnection = RunService.Stepped:Connect(function()
                if LocalPlayer.Character then
                    for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
            end)
            Rayfield:Notify({ Title = "ë²½ëš«ê¸°", Content = "í™œì„±í™”ë¨", Duration = 2 })
        else
            if NoclipConnection then
                NoclipConnection:Disconnect()
                NoclipConnection = nil
            end
            Rayfield:Notify({ Title = "ë²½ëš«ê¸°", Content = "ë¹„í™œì„±í™”ë¨", Duration = 2 })
        end
    end,
})

------------------------------------------------------------------------
-- PCLD (í”Œë ˆì´ì–´ ID í‘œì‹œ)
------------------------------------------------------------------------
MainTab:CreateSection("ğŸ‘¤ PCLD - í”Œë ˆì´ì–´ ID")

local PCLDEnabled = false
local PCLDMarkers = {}
local PCLDConnection = nil

local function CreateIDMarker(targetPlayer)
    if not (targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart")) then
        return nil
    end
    
    local marker = Instance.new("Part")
    marker.Size = Vector3.new(1, 1, 1)
    marker.Transparency = 1
    marker.Anchored = true
    marker.CanCollide = false
    marker.Parent = workspace
    
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(0, 160, 0, 60)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = marker
    
    local background = Instance.new("Frame")
    background.Size = UDim2.new(1, 0, 1, 0)
    background.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    background.BackgroundTransparency = 0.2
    background.BorderSizePixel = 2
    background.BorderColor3 = Color3.fromRGB(255, 100, 100)
    background.Parent = billboard
    
    local idLabel = Instance.new("TextLabel")
    idLabel.Size = UDim2.new(1, 0, 0.5, 0)
    idLabel.Position = UDim2.new(0, 0, 0, 0)
    idLabel.BackgroundTransparency = 1
    idLabel.Text = "ğŸ†” " .. targetPlayer.UserId
    idLabel.TextColor3 = Color3.fromRGB(255, 200, 200)
    idLabel.TextStrokeTransparency = 0.3
    idLabel.TextStrokeColor3 = Color3.fromRGB(255, 0, 0)
    idLabel.Font = Enum.Font.GothamBold
    idLabel.TextSize = 16
    idLabel.Parent = background
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
    nameLabel.Position = UDim2.new(0, 0, 0.5, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = "ğŸ“Œ " .. targetPlayer.Name
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.TextStrokeTransparency = 0
    nameLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    nameLabel.Font = Enum.Font.Gotham
    nameLabel.TextSize = 12
    nameLabel.Parent = background
    
    return marker
end

MainTab:CreateToggle({
    Name = "PCLD ON/OFF",
    CurrentValue = false,
    Flag = "PCLD",
    Callback = function(state)
        PCLDEnabled = state
        
        if PCLDEnabled then
            -- ê¸°ì¡´ ë§ˆì»¤ ì œê±°
            for _, marker in pairs(PCLDMarkers) do
                SafeCall(marker.Destroy, marker)
            end
            PCLDMarkers = {}
            
            -- ìƒˆ ë§ˆì»¤ ìƒì„±
            for _, player in ipairs(Players:GetPlayers()) do
                if player ~= LocalPlayer then
                    local marker = CreateIDMarker(player)
                    if marker then
                        PCLDMarkers[player] = marker
                    end
                end
            end
            
            -- ì—…ë°ì´íŠ¸ ë£¨í”„
            PCLDConnection = RunService.Heartbeat:Connect(function()
                if not PCLDEnabled then return end
                
                -- ê¸°ì¡´ ë§ˆì»¤ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
                for player, marker in pairs(PCLDMarkers) do
                    SafeCall(function()
                        if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            marker.CFrame = player.Character.HumanoidRootPart.CFrame
                        else
                            marker:Destroy()
                            PCLDMarkers[player] = nil
                        end
                    end)
                end
                
                -- ìƒˆ í”Œë ˆì´ì–´ ë§ˆì»¤ ìƒì„±
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer and not PCLDMarkers[player] then
                        local marker = CreateIDMarker(player)
                        if marker then
                            PCLDMarkers[player] = marker
                        end
                    end
                end
            end)
            
            Rayfield:Notify({ Title = "PCLD", Content = "í”Œë ˆì´ì–´ ID í‘œì‹œ ON", Duration = 2 })
        else
            if PCLDConnection then
                PCLDConnection:Disconnect()
                PCLDConnection = nil
            end
            
            for _, marker in pairs(PCLDMarkers) do
                SafeCall(marker.Destroy, marker)
            end
            PCLDMarkers = {}
            
            Rayfield:Notify({ Title = "PCLD", Content = "OFF", Duration = 2 })
        end
    end,
})

--============================================================================--
-- í…”ë ˆí¬íŠ¸ íƒ­ (ì„¬ì„¸í•œ í”Œë ˆì´ì–´ í…”ë ˆí¬íŠ¸)
--============================================================================--
local TeleportTab = Window:CreateTab("í…”ë ˆí¬íŠ¸", 4483362458)
local TeleportSection = TeleportTab:CreateSection("ğŸ¯ ì„¬ì„¸í•œ í”Œë ˆì´ì–´ í…”ë ˆí¬íŠ¸")

local SelectedPlayer = nil
local IsTeleporting = false
local LastTeleportTime = 0
local TeleportCooldown = 0.5  -- 0.5ì´ˆ ì¿¨ë‹¤ìš´

-- í”Œë ˆì´ì–´ ëª©ë¡ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
local function GetPlayerList()
    local list = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            table.insert(list, player.Name)
        end
    end
    return list
end

-- í”Œë ˆì´ì–´ ìƒíƒœ í™•ì¸ í•¨ìˆ˜
local function GetPlayerStatus(player)
    if not player then return "âŒ ì—†ìŒ" end
    if not player.Character then return "ğŸ”„ ë¡œë”©ì¤‘" end
    if not player.Character:FindFirstChild("HumanoidRootPart") then return "âš ï¸ ì¤€ë¹„ì¤‘" end
    local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
    if not humanoid then return "âš ï¸ íœ´ë¨¸ë…¸ì´ë“œ ì—†ìŒ" end
    if humanoid.Health <= 0 then return "ğŸ’€ ì‚¬ë§" end
    return "âœ… ì •ìƒ"
end

-- ê±°ë¦¬ ê³„ì‚° í•¨ìˆ˜
local function GetDistanceToPlayer(player)
    if not (player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and
            LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) then
        return nil
    end
    return (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
end

-- í”Œë ˆì´ì–´ ì„ íƒ ë“œë¡­ë‹¤ìš´
local PlayerDropdown = TeleportTab:CreateDropdown({
    Name = "ğŸ‘¤ í”Œë ˆì´ì–´ ì„ íƒ",
    Options = GetPlayerList(),
    CurrentOption = {"ì„ íƒí•˜ì„¸ìš”"},
    MultipleOptions = false,
    Flag = "PlayerSelect",
    Callback = function(selected)
        if selected and #selected > 0 then
            local selectedName = selected[1]
            for _, player in ipairs(Players:GetPlayers()) do
                if player.Name == selectedName then
                    SelectedPlayer = player
                    local status = GetPlayerStatus(player)
                    local dist = GetDistanceToPlayer(player)
                    local distText = dist and string.format(" (%.1f studs)", dist) or ""
                    Rayfield:Notify({
                        Title = "âœ… í”Œë ˆì´ì–´ ì„ íƒë¨",
                        Content = string.format("%s | ìƒíƒœ: %s%s", player.Name, status, distText),
                        Duration = 3
                    })
                    break
                end
            end
        end
    end,
})

-- ìƒíƒœ í‘œì‹œ ë ˆì´ë¸”
local StatusLabel = TeleportTab:CreateLabel("â³ ìƒíƒœ: ëŒ€ê¸° ì¤‘")
local PlayerInfoLabel = TeleportTab:CreateLabel("ì„ íƒëœ í”Œë ˆì´ì–´: ì—†ìŒ")
local DistanceLabel = TeleportTab:CreateLabel("ê±°ë¦¬: -")
local CooldownLabel = TeleportTab:CreateLabel("ì¿¨ë‹¤ìš´: ì¤€ë¹„ë¨")

-- ì‹¤ì‹œê°„ í”Œë ˆì´ì–´ ì •ë³´ ì—…ë°ì´íŠ¸
RunService.Heartbeat:Connect(function()
    if SelectedPlayer then
        local status = GetPlayerStatus(SelectedPlayer)
        local dist = GetDistanceToPlayer(SelectedPlayer)
        local distText = dist and string.format("%.1f studs", dist) or "ì•Œ ìˆ˜ ì—†ìŒ"
        PlayerInfoLabel:Set(string.format("ì„ íƒë¨: %s [%s]", SelectedPlayer.Name, status))
        DistanceLabel:Set(string.format("ê±°ë¦¬: %s", distText))
        
        -- ì¿¨ë‹¤ìš´ í‘œì‹œ
        local timeSinceLast = tick() - LastTeleportTime
        if timeSinceLast < TeleportCooldown then
            CooldownLabel:Set(string.format("ì¿¨ë‹¤ìš´: %.1fì´ˆ", TeleportCooldown - timeSinceLast))
        else
            CooldownLabel:Set("ì¿¨ë‹¤ìš´: ì¤€ë¹„ë¨ âœ…")
        end
    else
        PlayerInfoLabel:Set("ì„ íƒëœ í”Œë ˆì´ì–´: ì—†ìŒ")
        DistanceLabel:Set("ê±°ë¦¬: -")
        CooldownLabel:Set("ì¿¨ë‹¤ìš´: -")
    end
end)

-- ì„¬ì„¸í•œ í…”ë ˆí¬íŠ¸ í•¨ìˆ˜
local function DelicateTeleportToPlayer(target)
    -- ì¿¨ë‹¤ìš´ ì²´í¬
    local timeSinceLast = tick() - LastTeleportTime
    if timeSinceLast < TeleportCooldown then
        Rayfield:Notify({
            Title = "â³ ì¿¨ë‹¤ìš´",
            Content = string.format("%.1fì´ˆ í›„ì— ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”", TeleportCooldown - timeSinceLast),
            Duration = 2
        })
        return
    end
    
    if IsTeleporting then
        Rayfield:Notify({ Title = "ê²½ê³ ", Content = "ì´ë¯¸ í…”ë ˆí¬íŠ¸ ì¤‘ì…ë‹ˆë‹¤", Duration = 2 })
        return
    end
    
    if not target then
        Rayfield:Notify({ Title = "ì˜¤ë¥˜", Content = "í”Œë ˆì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”", Duration = 2 })
        return
    end
    
    -- ëŒ€ìƒ ì¡´ì¬ í™•ì¸
    local targetExists = false
    for _, p in ipairs(Players:GetPlayers()) do
        if p == target then
            targetExists = true
            break
        end
    end
    
    if not targetExists then
        Rayfield:Notify({ Title = "ì˜¤ë¥˜", Content = "ëŒ€ìƒì´ ê²Œì„ì— ì—†ìŠµë‹ˆë‹¤", Duration = 2 })
        SelectedPlayer = nil
        return
    end
    
    -- ëŒ€ìƒ ìƒíƒœ í™•ì¸
    local targetStatus = GetPlayerStatus(target)
    if targetStatus ~= "âœ… ì •ìƒ" then
        Rayfield:Notify({
            Title = "âš ï¸ ëŒ€ìƒ ìƒíƒœ ë¶ˆëŸ‰",
            Content = string.format("ìƒíƒœ: %s", targetStatus),
            Duration = 3
        })
        return
    end
    
    -- ë‚´ ìºë¦­í„° í™•ì¸
    if not (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) then
        Rayfield:Notify({ Title = "ì˜¤ë¥˜", Content = "ë‚´ ìºë¦­í„°ê°€ ì—†ìŠµë‹ˆë‹¤", Duration = 2 })
        return
    end
    
    IsTeleporting = true
    LastTeleportTime = tick()
    
    -- í…”ë ˆí¬íŠ¸ ì‹œì‘ ì•Œë¦¼
    local startPos = LocalPlayer.Character.HumanoidRootPart.Position
    local targetPos = target.Character.HumanoidRootPart.Position
    local distance = (startPos - targetPos).Magnitude
    
    StatusLabel:Set("â³ ìƒíƒœ: í…”ë ˆí¬íŠ¸ ì¤€ë¹„ ì¤‘...")
    
    Rayfield:Notify({
        Title = "ğŸš€ í…”ë ˆí¬íŠ¸ ì‹œì‘",
        Content = string.format("ëŒ€ìƒ: %s | ê±°ë¦¬: %.1f studs", target.Name, distance),
        Duration = 2
    })
    
    -- 0.3ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´ (3íšŒ) - ë” ì„¬ì„¸í•˜ê²Œ
    for i = 1, 3 do
        local remaining = (4 - i) / 10
        local progress = string.rep("â– ", i) .. string.rep("â–¡", 3 - i)
        StatusLabel:Set(string.format("â³ ìƒíƒœ: %s %.1fì´ˆ", progress, remaining))
        
        -- ë¶€ë“œëŸ¬ìš´ í™”ë©´ í”ë“¤ë¦¼ (ê±°ë¦¬ì— ë¹„ë¡€)
        local shakeIntensity = math.min(distance / 100, 2)  -- ìµœëŒ€ 2 studs
        SafeCall(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local root = LocalPlayer.Character.HumanoidRootPart
                root.CFrame = root.CFrame + Vector3.new(
                    math.random(-shakeIntensity * 10, shakeIntensity * 10) / 10,
                    math.random(-shakeIntensity * 5, shakeIntensity * 5) / 10,
                    math.random(-shakeIntensity * 10, shakeIntensity * 10) / 10
                )
            end
        end)
        
        task.wait(0.1)
    end
    
    -- í…”ë ˆí¬íŠ¸ ì‹¤í–‰ ì „ ìµœì¢… í™•ì¸
    if not (target.Character and target.Character:FindFirstChild("HumanoidRootPart")) then
        Rayfield:Notify({ Title = "ì˜¤ë¥˜", Content = "í…”ë ˆí¬íŠ¸ ì‹¤íŒ¨: ëŒ€ìƒ ìºë¦­í„° ì†Œë©¸", Duration = 2 })
        StatusLabel:Set("â³ ìƒíƒœ: ëŒ€ê¸° ì¤‘")
        IsTeleporting = false
        return
    end
    
    -- ì •í™•í•œ ìœ„ì¹˜ ê³„ì‚° (ëŒ€ìƒì˜ ë°œ ìœ„ì¹˜ ê¸°ì¤€)
    local targetCF = target.Character.HumanoidRootPart.CFrame
    local targetVelocity = target.Character.HumanoidRootPart.Velocity  -- ëŒ€ìƒì˜ ì´ë™ ì†ë„ ê³ ë ¤
    
    -- ëŒ€ìƒì´ ì´ë™ ì¤‘ì´ë©´ ì•½ê°„ ì•ìª½ì— í…”ë ˆí¬íŠ¸
    local predictionOffset = Vector3.new()
    if targetVelocity.Magnitude > 5 then
        predictionOffset = targetVelocity.Unit * 3  -- 3 studs ì˜ˆì¸¡
    end
    
    -- í…”ë ˆí¬íŠ¸ ì‹¤í–‰ (ëŒ€ìƒì˜ ë’¤ìª½ ì•½ê°„ ìœ„ì— ì°©ì§€)
    local finalPosition = targetCF + Vector3.new(0, 5, 0) + predictionOffset
    
    SafeCall(function()
        LocalPlayer.Character.HumanoidRootPart.CFrame = finalPosition
        
        -- ì°©ì§€ ì‹œ ì•½ê°„ì˜ ë†’ì´ ì¡°ì • (ì§€ë©´ ì²´í¬)
        task.wait(0.05)
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local ray = Ray.new(finalPosition.Position + Vector3.new(0, 10, 0), Vector3.new(0, -20, 0))
            local hit, pos = workspace:FindPartOnRay(ray, LocalPlayer.Character)
            if hit and pos then
                local groundY = pos.Y + 3  -- ì§€ë©´ ìœ„ 3 studs
                if finalPosition.Y > groundY + 5 then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(finalPosition.X, groundY, finalPosition.Z)
                end
            end
        end
    end)
    
    -- í…”ë ˆí¬íŠ¸ ì™„ë£Œ ì •ë³´
    local newPos = LocalPlayer.Character.HumanoidRootPart.Position
    local newDistance = (newPos - targetPos).Magnitude
    
    Rayfield:Notify({
        Title = "âœ… í…”ë ˆí¬íŠ¸ ì™„ë£Œ",
        Content = string.format("%së‹˜ì—ê²Œ ì´ë™ | ë„ì°© ê±°ë¦¬: %.1f studs", target.Name, newDistance),
        Duration = 3
    })
    
    StatusLabel:Set("â³ ìƒíƒœ: ëŒ€ê¸° ì¤‘")
    IsTeleporting = false
end

-- í…”ë ˆí¬íŠ¸ ë²„íŠ¼
TeleportTab:CreateButton({
    Name = "ğŸš€ ì„¬ì„¸í•œ í…”ë ˆí¬íŠ¸",
    Callback = function()
        DelicateTeleportToPlayer(SelectedPlayer)
    end,
})

-- T í‚¤ ë‹¨ì¶•í‚¤
UserInput.InputBegan:Connect(function(input, isTyping)
    if not isTyping and input.KeyCode == Enum.KeyCode.T then
        if SelectedPlayer then
            DelicateTeleportToPlayer(SelectedPlayer)
        else
            Rayfield:Notify({ Title = "ì•Œë¦¼", Content = "ë¨¼ì € í”Œë ˆì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”", Duration = 2 })
        end
    end
end)

-- ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
TeleportTab:CreateButton({
    Name = "ğŸ”„ í”Œë ˆì´ì–´ ëª©ë¡ ìƒˆë¡œê³ ì¹¨",
    Callback = function()
        local newList = GetPlayerList()
        PlayerDropdown:Set(newList)
        
        -- ì„ íƒëœ í”Œë ˆì´ì–´ í™•ì¸
        if SelectedPlayer then
            local stillExists = false
            for _, p in ipairs(Players:GetPlayers()) do
                if p == SelectedPlayer then
                    stillExists = true
                    break
                end
            end
            if not stillExists then
                SelectedPlayer = nil
                Rayfield:Notify({ Title = "ì•Œë¦¼", Content = "ì´ì „ ì„ íƒì´ ì‚¬ë¼ì¡ŒìŠµë‹ˆë‹¤", Duration = 2 })
            end
        end
        
        Rayfield:Notify({
            Title = "ê°±ì‹  ì™„ë£Œ",
            Content = "í”Œë ˆì´ì–´ " .. #newList .. "ëª…",
            Duration = 2
        })
    end,
})

--============================================================================--
-- ì¼ë°˜ í…”ë ˆí¬íŠ¸
--============================================================================--
local GeneralSection = TeleportTab:CreateSection("ğŸ“ ì¼ë°˜ ìœ„ì¹˜ ì´ë™")

local function FindSpawn()
    local spawns = {
        workspace:FindFirstChild("SpawnLocation"),
        workspace:FindFirstChild("Spawn"),
        workspace:FindFirstChild("Start"),
        workspace:FindFirstChild("Baseplate")
    }
    for _, spawn in pairs(spawns) do
        if spawn and spawn:IsA("BasePart") then
            return spawn
        end
    end
    return nil
end

TeleportTab:CreateButton({
    Name = "ğŸ  ìŠ¤í° ì§€ì—­ìœ¼ë¡œ ì´ë™",
    Callback = function()
        SafeCall(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local spawn = FindSpawn()
                if spawn then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = spawn.CFrame + Vector3.new(0, 3, 0)
                    Rayfield:Notify({ Title = "ì´ë™", Content = "ìŠ¤í° ì§€ì—­", Duration = 2 })
                else
                    LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(0, 10, 0)
                    Rayfield:Notify({ Title = "ì´ë™", Content = "0,0,0 ì¢Œí‘œ", Duration = 2 })
                end
            end
        end)
    end,
})

TeleportTab:CreateButton({
    Name = "â˜ï¸ í•˜ëŠ˜ë¡œ ì´ë™ (Y=500)",
    Callback = function()
        SafeCall(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local pos = LocalPlayer.Character.HumanoidRootPart.Position
                LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(pos.X, 500, pos.Z)
                Rayfield:Notify({ Title = "ì´ë™", Content = "í•˜ëŠ˜ (Y=500)", Duration = 2 })
            end
        end)
    end,
})

TeleportTab:CreateButton({
    Name = "ğŸŒ ë•…ìœ¼ë¡œ ì´ë™ (Y=5)",
    Callback = function()
        SafeCall(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local pos = LocalPlayer.Character.HumanoidRootPart.Position
                LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(pos.X, 5, pos.Z)
                Rayfield:Notify({ Title = "ì´ë™", Content = "ë•… (Y=5)", Duration = 2 })
            end
        end)
    end,
})

--============================================================================--
-- ê·¸ ì™¸ íƒ­
--============================================================================--
local MiscTab = Window:CreateTab("ê·¸ ì™¸", 4483362458)

-- ì¬ì ‘ì†
local RejoinSection = MiscTab:CreateSection("ê²Œì„ ê´€ë¦¬")

MiscTab:CreateButton({
    Name = "ğŸ”„ ì¬ì ‘ì† (ê²Œì„ ë‚˜ê°”ë‹¤ ë“¤ì–´ì˜¤ê¸°)",
    Callback = function()
        Rayfield:Notify({
            Title = "ì¬ì ‘ì†",
            Content = "3ì´ˆ í›„ ì¬ì ‘ì†í•©ë‹ˆë‹¤...",
            Duration = 3
        })
        task.wait(3)
        TeleportService:Teleport(game.PlaceId, LocalPlayer)
    end,
})

-- ì—ì„ í…”ë ˆí¬íŠ¸ (ì´í™íŠ¸ ì œê±°ë¨)
local AimTPSection = MiscTab:CreateSection("ì—ì„ í…”ë ˆí¬íŠ¸")

local AimTPEnabled = false
local AimTPKey = Enum.KeyCode.X
local AimTPConnection = nil

-- í‚¤ ë³€ê²½ ë ˆì´ë¸”
local AimTPKeyLabel = MiscTab:CreateLabel("í˜„ì¬ í‚¤: X")

-- í‚¤ë°”ì¸ë“œ
MiscTab:CreateKeybind({
    Name = "ì—ì„ TP í‚¤ ë³€ê²½",
    CurrentKeybind = "X",
    Flag = "AimTPKeybind",
    Callback = function(key)
        if key then
            local keyMap = {
                ["Q"] = Enum.KeyCode.Q, ["W"] = Enum.KeyCode.W, ["E"] = Enum.KeyCode.E,
                ["R"] = Enum.KeyCode.R, ["T"] = Enum.KeyCode.T, ["Y"] = Enum.KeyCode.Y,
                ["U"] = Enum.KeyCode.U, ["I"] = Enum.KeyCode.I, ["O"] = Enum.KeyCode.O,
                ["P"] = Enum.KeyCode.P, ["A"] = Enum.KeyCode.A, ["S"] = Enum.KeyCode.S,
                ["D"] = Enum.KeyCode.D, ["F"] = Enum.KeyCode.F, ["G"] = Enum.KeyCode.G,
                ["H"] = Enum.KeyCode.H, ["J"] = Enum.KeyCode.J, ["K"] = Enum.KeyCode.K,
                ["L"] = Enum.KeyCode.L, ["Z"] = Enum.KeyCode.Z, ["X"] = Enum.KeyCode.X,
                ["C"] = Enum.KeyCode.C, ["V"] = Enum.KeyCode.V, ["B"] = Enum.KeyCode.B,
                ["N"] = Enum.KeyCode.N, ["M"] = Enum.KeyCode.M
            }
            AimTPKey = keyMap[key] or Enum.KeyCode.X
            AimTPKeyLabel:Set("í˜„ì¬ í‚¤: " .. key)
            Rayfield:Notify({ Title = "í‚¤ ë³€ê²½", Content = "ì—ì„ TP: " .. key, Duration = 2 })
        end
    end,
})

-- ì—ì„ TP í† ê¸€ (ì´í™íŠ¸ ì œê±°)
MiscTab:CreateToggle({
    Name = "ì—ì„ í…”ë ˆí¬íŠ¸ ON/OFF",
    CurrentValue = false,
    Flag = "AimTP",
    Callback = function(state)
        AimTPEnabled = state
        
        if AimTPEnabled then
            if AimTPConnection then
                AimTPConnection:Disconnect()
            end
            
            AimTPConnection = UserInput.InputBegan:Connect(function(input, isTyping)
                if not isTyping and input.KeyCode == AimTPKey then
                    SafeCall(function()
                        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                            local mousePos = Mouse.Hit.Position
                            LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(
                                mousePos.X,
                                mousePos.Y + 3,
                                mousePos.Z
                            )
                            
                            -- ì´í™íŠ¸ ì œê±°ë¨
                            
                            Rayfield:Notify({
                                Title = "ì—ì„ TP",
                                Content = "ë§ˆìš°ìŠ¤ ìœ„ì¹˜ë¡œ ì´ë™",
                                Duration = 1
                            })
                        end
                    end)
                end
            end)
            
            Rayfield:Notify({
                Title = "ì—ì„ TP",
                Content = "í™œì„±í™”ë¨ (" .. AimTPKey.Name .. "í‚¤)",
                Duration = 2
            })
        else
            if AimTPConnection then
                AimTPConnection:Disconnect()
                AimTPConnection = nil
            end
            Rayfield:Notify({ Title = "ì—ì„ TP", Content = "ë¹„í™œì„±í™”ë¨", Duration = 2 })
        end
    end,
})

--============================================================================--
-- ë³´ì•ˆ íƒ­ (ìƒˆë¡œ ì¶”ê°€)
--============================================================================--
local SecurityTab = Window:CreateTab("ë³´ì•ˆ", 4483362458)
local SecuritySection = SecurityTab:CreateSection("ğŸ”’ ê³„ì • ë³´ì•ˆ")

-- ê³„ì • ì •ë³´ í‘œì‹œ
local AccountInfoLabel = SecurityTab:CreateLabel("ê³„ì •: " .. LocalPlayer.Name)
local UserIdLabel = SecurityTab:CreateLabel("User ID: " .. LocalPlayer.UserId)
local DisplayNameLabel = SecurityTab:CreateLabel("í‘œì‹œ ì´ë¦„: " .. LocalPlayer.DisplayName)

-- ê³„ì • ìƒì„±ì¼ (ê·¼ì‚¬ì¹˜)
local function GetAccountAge()
    local age = LocalPlayer.AccountAge
    local days = math.floor(age)
    local years = math.floor(days / 365)
    local months = math.floor((days % 365) / 30)
    return string.format("%dì¼ (%dë…„ %dê°œì›”)", days, years, months)
end

local AccountAgeLabel = SecurityTab:CreateLabel("ê³„ì • ë‚˜ì´: " .. GetAccountAge())

-- ì¹œêµ¬ ìˆ˜
local function GetFriendCount()
    local count = #LocalPlayer:GetFriends()
    return tostring(count)
end

local FriendCountLabel = SecurityTab:CreateLabel("ì¹œêµ¬ ìˆ˜: " .. GetFriendCount())

-- ë³´ì•ˆ ì„¤ì • ì„¹ì…˜
local SecuritySettingsSection = SecurityTab:CreateSection("âš™ï¸ ë³´ì•ˆ ì„¤ì •")

-- Anti-Afk (ìë¦¬ë¹„ì›€ ë°©ì§€)
local AntiAfkEnabled = false
local AntiAfkConnection = nil

SecurityTab:CreateToggle({
    Name = "ğŸ›¡ï¸ Anti-AFK (ìë¦¬ë¹„ì›€ ë°©ì§€)",
    CurrentValue = false,
    Flag = "AntiAfk",
    Callback = function(state)
        AntiAfkEnabled = state
        
        if AntiAfkEnabled then
            -- VirtualUserë¡œ AFK ë°©ì§€
            LocalPlayer.Idled:Connect(function()
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end)
            
            -- ì£¼ê¸°ì ìœ¼ë¡œ ì›€ì§ì„ ì‹œë®¬ë ˆì´ì…˜
            AntiAfkConnection = RunService.Stepped:Connect(function()
                if AntiAfkEnabled then
                    VirtualUser:CaptureController()
                    VirtualUser:ClickButton2(Vector2.new())
                end
            end)
            
            Rayfield:Notify({ Title = "Anti-AFK", Content = "í™œì„±í™”ë¨", Duration = 2 })
        else
            if AntiAfkConnection then
                AntiAfkConnection:Disconnect()
                AntiAfkConnection = nil
            end
            Rayfield:Notify({ Title = "Anti-AFK", Content = "ë¹„í™œì„±í™”ë¨", Duration = 2 })
        end
    end,
})

-- ë¡œê·¸ì•„ì›ƒ ë°©ì§€ (ê²½ê³ ë§Œ)
SecurityTab:CreateToggle({
    Name = "âš ï¸ ë¡œê·¸ì•„ì›ƒ ë°©ì§€ (ì‹¤í—˜ì )",
    CurrentValue = false,
    Flag = "LogoutProtect",
    Callback = function(state)
        if state then
            Rayfield:Notify({
                Title = "ë¡œê·¸ì•„ì›ƒ ë°©ì§€",
                Content = "ì´ ê¸°ëŠ¥ì€ ì™„ì „í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤",
                Duration = 3
            })
        end
    end,
})

-- ì„¸ì…˜ ì •ë³´ ì„¹ì…˜
local SessionSection = SecurityTab:CreateSection("ğŸ“Š ì„¸ì…˜ ì •ë³´")

-- í•‘ í‘œì‹œ
local PingLabel = SecurityTab:CreateLabel("í•‘: ì¸¡ì •ì¤‘...")

RunService.Heartbeat:Connect(function()
    local ping = math.floor(Stats.Network.ServerStatsItem["Data Ping"]:GetValue())
    PingLabel:Set("í•‘: " .. ping .. "ms")
end)

-- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
local MemoryLabel = SecurityTab:CreateLabel("ë©”ëª¨ë¦¬: ì¸¡ì •ì¤‘...")

RunService.Heartbeat:Connect(function()
    local mem = math.floor(collectgarbage("count"))
    MemoryLabel:Set("ë©”ëª¨ë¦¬: " .. mem .. "KB")
end)

-- ì„œë²„ ì •ë³´
local ServerInfoLabel = SecurityTab:CreateLabel("ì„œë²„: " .. game.JobId)

-- í”Œë ˆì´ì–´ ìˆ˜
local PlayerCountLabel = SecurityTab:CreateLabel("í”Œë ˆì´ì–´: " .. #Players:GetPlayers() .. "ëª…")

Players.PlayerAdded:Connect(function()
    PlayerCountLabel:Set("í”Œë ˆì´ì–´: " .. #Players:GetPlayers() .. "ëª…")
end)

Players.PlayerRemoving:Connect(function()
    PlayerCountLabel:Set("í”Œë ˆì´ì–´: " .. #Players:GetPlayers() .. "ëª…")
end)

-- ìœ„í—˜ ê²½ê³  ì„¹ì…˜
local WarningSection = SecurityTab:CreateSection("âš ï¸ ìœ„í—˜ ê²½ê³ ")

SecurityTab:CreateButton({
    Name = "ğŸ” ì„¸ì…˜ ì²´í¬",
    Callback = function()
        local issues = {}
        
        -- ê´€ë¦¬ì ê°ì§€ (ì˜ì‹¬ìŠ¤ëŸ¬ìš´ í”Œë ˆì´ì–´)
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                -- ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ì´ë¦„ íŒ¨í„´
                if string.match(player.Name:lower(), "admin") or 
                   string.match(player.Name:lower(), "mod") or
                   string.match(player.Name:lower(), "owner") then
                    table.insert(issues, "âš ï¸ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ì´ë¦„: " .. player.Name)
                end
                
                -- ë†’ì€ ë­í¬ ì˜ì‹¬
                if player.UserId < 1000000 then
                    table.insert(issues, "ğŸ”´ ì˜¬ë“œ ìœ ì €: " .. player.Name .. " (ID: " .. player.UserId .. ")")
                end
            end
        end
        
        if #issues > 0 then
            for _, issue in ipairs(issues) do
                Rayfield:Notify({ Title = "ê²½ê³ ", Content = issue, Duration = 3 })
            end
        else
            Rayfield:Notify({ Title = "ì„¸ì…˜ ì²´í¬", Content = "íŠ¹ì´ì‚¬í•­ ì—†ìŒ", Duration = 2 })
        end
    end,
})

SecurityTab:CreateButton({
    Name = "ğŸšª ê¸´ê¸‰ ë¡œê·¸ì•„ì›ƒ",
    Callback = function()
        Rayfield:Notify({
            Title = "ê¸´ê¸‰ ë¡œê·¸ì•„ì›ƒ",
            Content = "3ì´ˆ í›„ ë¡œê·¸ì•„ì›ƒí•©ë‹ˆë‹¤...",
            Duration = 3
        })
        task.wait(3)
        LocalPlayer:Kick("ê¸´ê¸‰ ë¡œê·¸ì•„ì›ƒ ì‹¤í–‰ë¨")
    end,
})

--============================================================================--
-- ê¸°íƒ€ ê¸°ëŠ¥ë“¤
--============================================================================--
local MiscSection = MiscTab:CreateSection("ê¸°íƒ€ ê¸°ëŠ¥")

MiscTab:CreateButton({
    Name = "âŒ UI ì™„ì „ ì¢…ë£Œ",
    Callback = function()
        Rayfield:Destroy()
    end,
})

MiscTab:CreateButton({
    Name = "ğŸ’€ ìºë¦­í„° ë¦¬ì…‹ (ì£½ì´ê¸°)",
    Callback = function()
        SafeCall(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.Health = 0
                Rayfield:Notify({ Title = "ë¦¬ì…‹", Content = "ìºë¦­í„° ì‚¬ë§", Duration = 2 })
            end
        end)
    end,
})

MiscTab:CreateButton({
    Name = "âš¡ FPS ë¶€ìŠ¤íŠ¸",
    Callback = function()
        SafeCall(function()
            settings().Rendering.QualityLevel = 1
            RunService:Set3dRenderingEnabled(false)
            task.wait(0.1)
            RunService:Set3dRenderingEnabled(true)
            Rayfield:Notify({ Title = "FPS", Content = "ë¶€ìŠ¤íŠ¸ ì ìš©ë¨", Duration = 2 })
        end)
    end,
})

-- ìºë¦­í„° ë¦¬ìŠ¤í° ì²˜ë¦¬
LocalPlayer.CharacterAdded:Connect(function(character)
    -- ì†ë„ ì ìš©
    task.wait(0.5)
    SafeCall(function()
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = WalkSpeed
            humanoid.JumpPower = JumpPower
        end
    end)
    
    -- í”„ë¦¬ì¦ˆ ìƒíƒœ ì²˜ë¦¬
    if FreezeEnabled then
        Rayfield:Notify({
            Title = "í”„ë¦¬ì¦ˆ",
            Content = "ìºë¦­í„°ê°€ ë¦¬ìŠ¤í°ë¨. í”„ë¦¬ì¦ˆë¥¼ ë‹¤ì‹œ ì¼œì£¼ì„¸ìš”.",
            Duration = 3
        })
    end
    
    -- í”Œë¼ì´ ìƒíƒœ ì²˜ë¦¬
    if FlyEnabled then
        Rayfield:Notify({
            Title = "í”Œë¼ì´",
            Content = "ìºë¦­í„°ê°€ ë¦¬ìŠ¤í°ë¨. í”Œë¼ì´ë¥¼ ë‹¤ì‹œ ì¼œì£¼ì„¸ìš”.",
            Duration = 3
        })
    end
end)

-- ì‹œì‘ ì™„ë£Œ ì•Œë¦¼
Rayfield:Notify({
    Title = "âœ¨ ìœ ë‹ˆë²„ìŠ¤ ë¡œë“œ ì™„ë£Œ",
    Content = "ëª¨ë“  ê¸°ëŠ¥ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤",
    Duration = 3
})
